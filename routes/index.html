<!doctype html>  
<html lang="en">  
    <head>

    </head>
    <body>
        <h1>Remote Camera Control</h1>
        <div id = "cameras"></div>      
    </body>
    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>  
        var control = io.connect('http://localhost:5000/controller');
        control.on('connect', function(socket) {
            console.log("Controller connected");
        });
        control.on('list', function (cameras) {
            console.log("Got list event");
            console.log(cameras);
            listCameras(cameras);
        });
        function listCameras(cameras) {
            var $cameraList = $("<ul>", {id: "camera-list"});
            cameras.forEach(function (camera) {
                var $camera = $("<li>", {id: "camera-" + camera.id, text: camera.name});
                $cameraList.append($camera)          
            })
            $('#camera-list').remove();
            $('#cameras').append($cameraList);
        }

    </script>
</html>  